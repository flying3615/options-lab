import type { Strategy } from '../../../lib/types';

const strategy: Strategy = {
  id: 'collar',
  name: '领口策略 (Collar)',
  referencePrice: 100,
  tags: ['对冲/保护', '持股', '风险/收益：有限'],
  summary: '在持有100股股票的同时，买入一份看跌期权作为保护，并卖出一份看涨期权来补贴成本。',
  description: '领口策略是一种为已持有的股票头寸提供保护的策略。它通过买入一份虚值看跌期权来设定一个“地板价”，防止股价大幅下跌带来的损失；同时卖出一份虚值看涨期权来收取权利金，这笔收入可以降低甚至完全覆盖买入看跌期权的成本。代价是，这也为股票的上涨设定了“天花板”。',
  concept: '这就像是为你持有的股票买了一份保险。你买了一份看跌期权（下跌险），但觉得保费太贵。于是，你又卖给别人一份看涨期权（“暴涨险”），用收来的钱支付你的保费。这样一来，你的股票就有了下跌保护，但同时也放弃了股价大涨带来的超额收益。你的股票被“领口”框定在了一个价格区间内。',
  pros: [
    '**下行风险有限**：看跌期权为你提供了明确的最低卖出价，保护你免受市场大跌的冲击。',
    '**成本低廉**：卖出看涨期权的收入可以显著降低对冲成本，甚至实现零成本对冲。',
    '**安心持股**：在市场不确定性高时，可以让你更安心地持有股票，避免因恐慌而卖出。',
  ],
  cons: [
    '**上行利润有限**：卖出的看涨期权限制了你从股价上涨中可能获得的最大利润。',
    '**错失大涨行情**：如果股票价格飙升，你将无法享受到超过看涨执行价以上部分的收益。',
    '**交易成本**：建立该策略涉及两笔期权交易，可能会产生更高的佣金成本。',
  ],
  example: (
    <div>
      <p>你持有100股O公司股票，当前股价为$100，你担心短期内市场会回调，但又不想卖出股票。于是你建立了一个领口策略：</p>
      <ul>
        <li>你已经持有100股股票，成本价为$100。</li>
        <li>买入1张执行价为$95的看跌期权，花费$2/股（共$200）。</li>
        <li>卖出1张执行价为$105的看涨期权，收入$2/股（共$200）。</li>
      </ul>
      <p>你的期权交易净成本为 <strong>$0</strong>，成功实现零成本对冲。</p>
      <p><strong>情景一：股价到期时上涨至$110</strong></p>
      <p>你的股票盈利$1000，但你卖出的$105看涨期权被行权，导致你必须以$105的价格卖出股票，因此你的最大股票收益被锁定在$500。看跌期权变为废纸。总利润为 <strong>$500</strong>。</p>
      <p><strong>情景二：股价到期时下跌至$90</strong></p>
      <p>你的股票亏损$1000，但你买入的$95看跌期权生效，允许你以$95的价格卖出股票，将你的最大股票亏损锁定在$500。看涨期权变为废纸。总亏损为 <strong>$500</strong>。</p>
    </div>
  ),
  formula: [
    '最大盈利 = (看涨执行价 - 股票成本价) × 股数 - 净权利金',
    '最大亏损 = (股票成本价 - 看跌执行价) × 股数 + 净权利金',
  ],
  legs: [
    { id: 'stock', kind: 'stock', position: 'long', qty: 100, entryPrice: 100 },
    { id: 'lp', kind: 'option', position: 'long', qty: 1, multiplier: 100, entryPrice: 2, option: { type: 'put', strike: 95 } },
    { id: 'sc', kind: 'option', position: 'short', qty: 1, multiplier: 100, entryPrice: 2, option: { type: 'call', strike: 105 } },
  ],
};

export default strategy;
