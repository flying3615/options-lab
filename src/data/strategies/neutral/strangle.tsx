import type { Strategy } from '../../../lib/types';

const strategy: Strategy = {
  id: 'strangle',
  name: '买入宽跨式 (Long Strangle)',
  referencePrice: 100,
  tags: ['方向：非中性', '支付权利金', '波动率：看涨'],
  summary: '在不同执行价同时买入虚值的看涨和看跌期权，以更低成本博取股价的大幅波动。',
  description: '买入宽跨式是买入跨式的变种，同样是一种经典的波动率策略。交易者通过买入虚值的看涨和看跌期权来降低建仓成本。代价是，相比跨式，宽跨式需要股价发生更大幅度的变动才能开始盈利。它适合预期市场有极大波动，但又希望控制成本的场景。',
  concept: '这就像是为球赛买了两边的“远排”门票。因为座位比较偏，所以票价（权利金）便宜一些。但这也意味着，你需要比赛结果“极其悬殊”（市场波动极大），你的座位才能变得有价值。如果只是小打小闹（波动不足），你的廉价票就作废了。',
  pros: [
    '**成本更低**：相比买入跨式，初始投入的权利金更少。',
    '**无限盈利潜力**：理论上盈利潜力仍然是无限的。',
    '**风险有限**：最大亏损就是你支付的全部权利金。',
  ],
  cons: [
    '**需要更大的波动**：盈利的门槛比跨式更高，股价需要移动更多才能覆盖成本。',
    '**时间价值损耗**：作为双重期权买方，时间的流逝对你非常不利。',
    '**“两头空”风险**：如果股价在两个执行价之间波动，你将损失全部成本。',
  ],
  example: (
    <div>
      <p>你预测V公司股票（当前股价$100）将有极大波动，但希望用更低的成本参与。于是你建立了一个买入宽跨式策略：</p>
      <ul>
        <li>买入1张执行价为$103的看涨期权，花费$4/股。</li>
        <li>买入1张执行价为$97的看跌期权，花费$3/股。</li>
      </ul>
      <p>你总共花费了 <strong>$700</strong> 的净权利金 ($400 + $300)，这是你的最大潜在亏损。</p>
      <p><strong>情景一：股价到期时收于$100（波动不足）</strong></p>
      <p>所有期权都变为废纸，你将损失全部初始投入的 <strong>$700</strong>。</p>
      <p><strong>情景二：股价到期时暴涨至$112</strong></p>
      <p>你的$103看涨期权盈利$900，看跌期权变为废纸。减去$700的成本，最终利润为 <strong>$200</strong>。</p>
      <p><strong>盈亏平衡点</strong></p>
      <p>此策略的盈亏平衡点是 <em>$97 - $7 = $90</em> 和 <em>$103 + $7 = $110</em>。股价需要跌破$90或涨破$110才能开始盈利。</p>
    </div>
  ),
  formula: [
    '最大盈利 = 无限',
    '最大亏损 = 支付的净权利金',
    '上方盈亏平衡点 = 看涨执行价 + 每股净权利金',
    '下方盈亏平衡点 = 看跌执行价 - 每股净权利金',
  ],
  legs: [
    { id: 'lc', kind: 'option', position: 'long', qty: 1, multiplier: 100, entryPrice: 4, option: { type: 'call', strike: 103 } },
    { id: 'lp', kind: 'option', position: 'long', qty: 1, multiplier: 100, entryPrice: 3, option: { type: 'put', strike: 97 } },
  ],
};

export default strategy;
