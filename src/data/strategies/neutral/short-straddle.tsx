import type { Strategy } from '../../../lib/types';

const strategy: Strategy = {
  id: 'short-straddle',
  name: '卖出跨式 (Short Straddle)',
  referencePrice: 100,
  tags: ['方向：中性', '收取权利金', '风险：无限'],
  summary: '在同一执行价同时卖出看涨和看跌期权，以收取高额权利金，赌股价将保持稳定。',
  description: '卖出跨式是一种高风险、高回报的中性策略。交易者预期股价在期权到期前不会有大的波动，因此卖出平价的看涨和看跌期权来最大化权利金收入。只要股价的波动幅度不超过收到的总权利金，策略就能盈利。然而，如果股价发生大幅波动，理论上的亏损是无限的。',
  concept: '这就像你在一个点上同时向两边开盘口：“我赌股价既不会大涨，也不会大跌。”因为你同时承担了双向的风险，所以你能收到非常高的权利金。只要股价保持在你设定的价格附近的一个小范围内，你就赢了。但如果股价朝任何一个方向大幅突破，你的亏损就会迅速扩大。',
  pros: [
    '**高额权利金收入**：这是所有期权策略中能收到最高权利金的策略之一。',
    '**时间价值有利**：时间的流逝会使期权价值衰减，对卖方极为有利，每天都能“收租”。',
    '**高胜率**：只要市场波动不大，盈利的概率很高。',
  ],
  cons: [
    '**双向无限风险**：这是最危险的缺点。无论股价大涨还是大跌，理论亏损都是无限的。',
    '**需要高额保证金**：由于风险巨大，券商会要求极高的保证金。',
    '**对波动性敏感**：即使股价不变，如果市场隐含波动率上升，你的头寸也可能出现浮亏。',
  ],
  example: (
    <div>
      <p>你预测S公司股票（当前股价$100）在财报后会非常稳定，波动不大。于是你建立了一个卖出跨式策略：</p>
      <ul>
        <li>卖出1张执行价为$100的看涨期权，收入$5/股。</li>
        <li>卖出1张执行价为$100的看跌期权，收入$5/股。</li>
      </ul>
      <p>你总共获得了 <strong>$1000</strong> 的净权利金 ($500 + $500)，这是你的最大潜在利润。</p>
      <p><strong>情景一：股价到期时收于$100（理想情况）</strong></p>
      <p>所有期权都变为废纸，你将赚取全部初始收入 <strong>$1000</strong>。</p>
      <p><strong>情景二：股价到期时上涨至$115</strong></p>
      <p>你的看涨期权亏损$1500，看跌期权变为废纸。减去$1000的净收入，最终亏损为 <strong>$500</strong>。</p>
      <p><strong>盈亏平衡点</strong></p>
      <p>此策略的盈亏平衡点是 <em>$100 - $10 = $90</em> 和 <em>$100 + $10 = $110</em>。股价在$90到$110之间是你的盈利区间。</p>
    </div>
  ),
  formula: [
    '最大盈利 = 收到的净权利金',
    '最大亏损 = 无限',
    '上方盈亏平衡点 = 执行价 + 每股净权利金',
    '下方盈亏平衡点 = 执行价 - 每股净权利金',
  ],
  legs: [
    { id: 'sc', kind: 'option', position: 'short', qty: 1, multiplier: 100, entryPrice: 5, option: { type: 'call', strike: 100 } },
    { id: 'sp', kind: 'option', position: 'short', qty: 1, multiplier: 100, entryPrice: 5, option: { type: 'put', strike: 100 } },
  ],
};

export default strategy;
