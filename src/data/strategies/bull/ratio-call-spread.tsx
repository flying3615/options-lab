import type { Strategy } from '../../../lib/types';

const strategy: Strategy = {
  id: 'ratio-call-spread',
  name: '看涨比例价差 (Ratio Call Spread 1x2)',
  referencePrice: 100,
  tags: ['方向：温和看多', '波动率策略', '风险：无限'],
  summary: '买入1份较低执行价的看涨期权，同时卖出2份或更多较高执行价的看涨期权，通常以零成本或净收入建立。',
  description: '看涨比例价差是一种复杂的策略，旨在从股价的小幅上涨或横盘中获利。通过卖出更多份数的虚值看涨期权，其收入可以完全覆盖（甚至超过）买入看涨期权的成本。策略在股价涨至卖出期权执行价时达到最大利润，但如果股价继续暴涨，风险将转为无限。',
  concept: '这个策略像是“带杠杆的赌徒”。你买了一张上涨的彩票（买入1份看涨），然后为了让这张彩票免费，你向两个人分别卖出了一份“继续大涨”的彩票（卖出2份看涨）。如果价格只是小涨，你的彩票中奖了，而你卖出的彩票都没事，你就赚了。但如果价格真的暴涨，你不仅自己的彩票要兑奖，你卖给别人的两份彩票中有一份也需要你自掏腰包赔付，导致亏损。',
  pros: [
    '**零成本或净收入**：通常可以构造为零成本（Zero-Cost）甚至是净收入（Credit）的头寸。',
    '**时间价值正向收益**：如果构建为净收入策略，时间的流逝对你有利。',
    '**在目标区间内收益高**：如果股价精确地涨到卖出期权的执行价，收益会非常可观。',
  ],
  cons: [
    '**上行风险无限**：这是此策略最大的缺点。如果股价涨破卖出期权的执行价并持续上涨，亏损会无限增加。',
    '**需要保证金**：由于有裸卖的期权头寸，需要较高的保证金。',
    '**盈利区间狭窄**：最大利润点非常精确，股价稍微偏离就会减少利润。',
  ],
  example: (
    <div>
      <p>你认为K公司股票（当前股价$100）可能会小幅上涨或盘整，但不会暴涨。你建立了一个1x2的看涨比例价差：</p>
      <ul>
        <li>买入1张执行价为$100的看涨期权，花费$4/股（共$400）。</li>
        <li>卖出2张执行价为$105的看涨期权，每张收入$2/股（共$400）。</li>
      </ul>
      <p>你的净权利金支出为 $0，这是一个零成本策略。</p>
      <p><strong>情景一：股价到期时收于$105（理想情况）</strong></p>
      <p>你买入的$100看涨期权价值$5/股，盈利$500。你卖出的两张$105看涨期权刚好到价，价值为零。你的总利润为 <strong>$500</strong>，这是最大利润。</p>
      <p><strong>情景二：股价到期时暴涨至$115</strong></p>
      <p>你买入的$100看涨期权盈利$15/股 ($1500)。但你卖出的两张$105看涨期权每张亏损$10/股，总计亏损$2000。综合来看，你的净亏损为 <strong>$500</strong> ($1500 - $2000)。</p>
      <p><strong>盈亏平衡点</strong></p>
      <p>此策略有两个盈亏平衡点。下方的是 <em>$100 + $0 = $100</em>。上方的是 <em>$105 + ($105 - $100) = $110</em>。股价在$100到$110之间是盈利区间。</p>
    </div>
  ),
  formula: [
    '最大盈利 = (高执行价 - 低执行价) × 合约乘数 + 净权利金',
    '上行风险 ≈ 无限',
    '下方盈亏平衡点 = 买入看涨的执行价 + 每股净权利金',
    '上方盈亏平衡点 = 卖出看涨的执行价 + (最大盈利 / 合约乘数)',
  ],
  legs: [
    { id: 'lc', kind: 'option', position: 'long', qty: 1, multiplier: 100, entryPrice: 4, option: { type: 'call', strike: 100 } },
    { id: 'sc1', kind: 'option', position: 'short', qty: 2, multiplier: 100, entryPrice: 2, option: { type: 'call', strike: 105 } },
  ],
};

export default strategy;
