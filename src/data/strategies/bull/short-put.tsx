import type { Strategy } from '../../../lib/types';

const strategy: Strategy = {
  id: 'short-put',
  name: '卖出看跌期权 (Short Put)',
  referencePrice: 100,
  tags: ['方向：看多/中性', '收取权利金', '风险：较大', '新手入门'],
  summary: '一种收取权利金的策略，如果股价保持在执行价之上，你将赚取全部权利金。它也可以看作是一种“愿意以更低价格买入股票”的承诺。',
  description: '卖出看跌期权（Short Put）是一种看涨或中性的策略。投资者卖出一份看跌期权合约，立即收取一笔权利金。作为回报，投资者承诺，如果股价在到期时跌破执行价，他有义务以该执行价买入股票。因此，该策略在股价横盘或上涨时盈利。',
  concept: '这就像你对市场开出一个“收购要约”。你对别人说：“如果这只股票的价格跌到$95，我保证以$95的价格从你手中买下它。”因为你提供了这个保障，对方会付给你一笔“服务费”（权利金）。如果股价一直没跌到$95，你就白赚了这笔服务费。如果股价真的跌破了$95，你就必须履行承诺，以$95的价格买入（即使当时市价可能更低），这相当于你用一个“打了折”的价格买入了这支你本来就看好的股票。',
  pros: [
    '**收取权利金**：策略的动机就是赚取权利金，创造现金流。',
    '**提高胜率**：只要股价不跌破某个点，策略就能盈利，因此胜率相对较高。',
    '**折价买入股票**：如果被行权，你的实际买入成本是“执行价 - 收到的权利金”，相当于以折扣价建仓。',
  ],
  cons: [
    '**利润上限**：最大利润就是你收到的权利金，无论股价涨多高，你的收益都不会再增加。',
    '**下行风险巨大**：如果股价暴跌，你的亏损可能非常大。理论上，如果股价跌到0，你的最大亏损是“执行价 × 100 - 收到的权利金”。',
    '**需要保证金**：作为期权卖方，你需要向券商提供一定的保证金来确保你有能力履行义务。',
  ],
  example: (
    <div>
      <p>你认为E公司股票（当前股价$100）不会在下个月大跌，甚至愿意以更低的价格买入它。于是你卖出一张执行价为$95、一个月后到期的看跌期权，并立即收到了$2/股的权利金（共$200）。</p>
      <p><strong>情景一：股价到期时收于$98（上涨或平盘）</strong></p>
      <p>期权是虚值的，买方不会行权。你成功赚取了全部$200的权利金，这是你的最大利润。</p>
      <p><strong>情景二：股价到期时暴跌至$90</strong></p>
      <p>期权被行权。你必须履行义务，以$95的价格买入100股当时市价仅为$90的股票。你花了$9500，但持仓的市值只有$9000，立即产生$500的浮亏。考虑到你最初收到的$200权利金，你的净亏损为 $500 - $200 = $300。</p>
      <p><strong>盈亏平衡点</strong></p>
      <p>你的风险始于股价跌破“执行价 - 收到的权利金”，即 <em>$95 - $2 = $93</em>。当股价低于$93时，你开始实际亏损。</p>
    </div>
  ),
  formula: ['最大盈利 = 收到的净权利金', '盈亏平衡点 = 执行价 - 每股净权利金'],
  legs: [
    { id: 'sp', kind: 'option', position: 'short', qty: 1, multiplier: 100, entryPrice: 2, option: { type: 'put', strike: 95 } },
  ],
};

export default strategy;