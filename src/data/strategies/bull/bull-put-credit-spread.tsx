import type { Strategy } from '../../../lib/types';

const strategy: Strategy = {
  id: 'bull-put-credit-spread',
  name: '牛市看跌信用价差 (Bull Put Credit Spread)',
  referencePrice: 100,
  tags: ['方向：温和看多', '收取权利金', '风险/收益：有限'],
  summary: '卖出较高执行价的看跌期权，同时买入一个更低执行价的看跌期权，从而获得净权利金。只要股价保持在卖出期权的执行价之上，就能盈利。',
  description: '牛市看跌信用价差是一种温和看多或中性的策略，适合预期股价将横盘或小幅上涨的场景。通过卖出一个近价的看跌期权收取权利金，同时买入一个更虚值的看跌期权作为保护，该策略将下行风险封顶，以换取一笔确定的收入。',
  concept: '这个策略就像是你对市场打赌说：“我认为股价不会跌破$97。”为了这个赌约，你卖给别人一个在$97卖出的权利，并收到一笔押金（权利金）。但为了防止股价真的大跌，你又花了一小部分押金，从另一个人那里买了一个保险，规定如果股价跌破$94，你的损失将由保险公司承担。只要股价最终没跌到$97以下，你就稳赚这笔净押金。',
  pros: [
    '**收取权利金**：策略的核心是产生现金流，无论市场涨跌，这笔收入都已落袋为安。',
    '**高胜率**：只要股价不跌、横盘甚至小幅上涨，策略都能盈利。',
    '**风险有限**：与裸卖看跌期权不同，买入的看跌期权为你提供了保护，最大亏损是确定的。',
  ],
  cons: [
    '**利润上限**：你的最大利润就是收到的净权利金。',
    '**潜在亏损大于收益**：通常情况下，该策略的最大潜在亏损要大于最大潜在收益。',
    '**需要保证金**：作为一种信用价差策略，你需要向券商提供保证金。',
  ],
  example: (
    <div>
      <p>你认为B公司股票（当前股价$100）未来一个月不会大幅下跌，于是你建立了一个牛市看跌信用价差：</p>
      <ul>
        <li>卖出一张执行价为$97的看跌期权，收到$2/股的权利金（共$200）。</li>
        <li>买入一张执行价为$94的看跌期权，花费$1/股的权利金（共$100）。</li>
      </ul>
      <p>你立即获得了 <strong>$100</strong> 的净权利金 ($200 - $100)，这是你的最大潜在利润。</p>
      <p><strong>情景一：股价到期时收于$98（上涨或平盘）</strong></p>
      <p>两个期权都变为废纸，买方不会行权。你成功赚取了全部$100的净权利金。</p>
      <p><strong>情景二：股价到期时下跌至$92（大幅下跌）</strong></p>
      <p>你卖出的$97看跌期权亏损 $5/股 ($97 - $92)，而你买入的$94看跌期权盈利 $2/股 ($94 - $92)。两腿相抵，你的净亏损为 $3/股，总计$300。减去你最初收到的$100权利金，你的最终亏损为 <strong>$200</strong>。这也是你的最大亏损。</p>
      <p><strong>盈亏平衡点</strong></p>
      <p>你的风险始于股价跌破“卖出期权的执行价 - 收到的净权利金”，即 <em>$97 - $1 = $96</em>。当股价低于$96时，你开始实际亏损。</p>
    </div>
  ),
  formula: [
    '最大盈利 = 收到的净权利金',
    '最大亏损 = (高执行价 - 低执行价) × 合约乘数 - 净权利金',
    '盈亏平衡点 = 卖出看跌的执行价 - 每股净权利金',
  ],
  legs: [
    { id: 'sp-h', kind: 'option', position: 'short', qty: 1, multiplier: 100, entryPrice: 2, option: { type: 'put', strike: 97 } },
    { id: 'lp-l', kind: 'option', position: 'long', qty: 1, multiplier: 100, entryPrice: 1, option: { type: 'put', strike: 94 } },
  ],
};

export default strategy;
