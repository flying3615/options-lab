import type { Strategy } from '../../../lib/types';

const strategy: Strategy = {
  id: 'synthetic-long',
  name: '合成多头 (Synthetic Long)',
  referencePrice: 100,
  tags: ['方向：看多', '类股票', '风险：类似持股'],
  summary: '通过买入一份看涨期权和卖出一份相同执行价的看跌期权，来模拟持有正股的多头头寸。',
  description: '合成多头是一种用期权来复制做多股票（或其它标的资产）的策略。它组合了买入一份平价看涨期权（Long Call）和卖出一份平价看跌期权（Short Put），这两份期权的执行价和到期日都相同。最终产生的盈亏曲线与直接持有100股股票非常相似。',
  concept: '想象一下你想买入一只股票，但又不想立即动用大量现金。合成多头策略提供了一种替代方案。你买入看涨期权，获得了股价上涨的权利；同时你卖出看跌期权，承担了股价下跌时必须买入的义务。这两个头寸结合起来的效果，就非常接近于直接拥有这100股股票：股价涨，你赚钱；股价跌，你亏钱。因为买入Call和卖出Put的权利金通常会相互抵消，所以建立这个头寸的初始成本非常低，甚至可能是零。',
  pros: [
    '**资本效率高**：相比直接购买100股股票，建立合成多头所需的初始资金（保证金）通常要少得多。',
    '**灵活性**：可以轻松地将该头寸转换为其他策略，例如通过履约卖出的看跌期权来获得股票，从而形成一个备兑看涨（Covered Call）策略。',
    '**模拟持股**：对于无法直接交易某些股票（如期货账户）的投资者，这是一种有效的替代方案。',
  ],
  cons: [
    '**风险与持股相同**：虽然初始投入低，但下行风险与直接持有100股股票完全一样。如果股价跌至零，亏损将是巨大的。',
    '**需要保证金**：由于包含了卖出期权（Short Put），该策略需要交易者在券商账户中存入一定的保证金。',
    '**交易成本**：建立该策略涉及两笔期权交易，可能会产生更高的佣金成本。',
  ],
  example: (
    <div>
      <p>假设B公司股票当前股价为$100。你希望建立一个类似持有100股该公司股票的多头头寸，但又不想立即支付$10,000现金。</p>
      <p>你执行了一个合成多头策略：</p>
      <ul>
        <li>买入一张执行价为$100的看涨期权（Long Call），花费$5/股（共$500）。</li>
        <li>卖出一张执行价为$100的看跌期权（Short Put），收入$5/股（共$500）。</li>
      </ul>
      <p>你的净权利金支出为 $500 - $500 = $0。</p>
      <p><strong>情景一：股价到期时上涨至$110</strong></p>
      <p>你的看涨期权现在价值$10/股（$110 - $100），而卖出的看跌期权变为废纸。你的利润为$10 * 100 = $1000，这与股价从$100涨到$110时持有100股股票的利润相同。</p>
      <p><strong>情景二：股价到期时下跌至$90</strong></p>
      <p>你的看涨期权变为废纸，而你卖出的看跌期权被行权。你必须以$100的价格买入100股市价仅为$90的股票，立即产生$10/股的亏损。总亏损为$10 * 100 = $1000，这也与持股的亏损相同。</p>
      <p><strong>盈亏平衡点</strong></p>
      <p>由于初始成本为零，盈亏平衡点就是执行价$100。股价高于$100你盈利，低于$100你亏损，完全模拟了在$100价位买入股票的情况。</p>
    </div>
  ),
  formula: ['盈亏平衡点 = 执行价 ± 净权利金'],
  legs: [
    { id: 'lc100', kind: 'option', position: 'long',  qty: 1, multiplier: 100, entryPrice: 5, option: { type: 'call', strike: 100 } },
    { id: 'sp100', kind: 'option', position: 'short', qty: 1, multiplier: 100, entryPrice: 5, option: { type: 'put',  strike: 100 } },
  ],
};

export default strategy;
