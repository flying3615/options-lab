import type { Strategy } from '../../../lib/types';

const strategy: Strategy = {
  id: 'synthetic-short',
  name: '合成空头 (Synthetic Short Stock)',
  referencePrice: 100,
  tags: ['高级策略', '方向：看空', '风险：上行无限'],
  summary: '通过组合一个看涨期权和一个看跌期权，来完全复制做空100股股票的风险和收益。股价下跌则盈利，上涨则亏损。',
  description: '合成空头是一种高级策略，它通过同时卖出一个平价看涨期权（Short Call）和买入一个相同执行价和到期日的平价看跌期权（Long Put）来构建。最终产生的头寸，其盈亏表现与直接做空100股标的股票几乎完全相同。',
  concept: '这个策略的精髓在于“复制”。在期权世界里，不同的组合可以拼凑出功能相同的头寸。在这里，“卖出一份买的权利（Short Call）”加上“买入一份卖的权利（Long Put）”，其效果恰好等于“承诺未来要卖出股票”。这使得投资者可以在不实际借入和卖出股票（融券做空）的情况下，获得一个看空的头寸，有时能规避融券的限制或高昂成本。',
  pros: [
    '**模拟做空**：无需融券即可获得与做空股票相同的线性风险收益。',
    '**灵活性**：在某些难以或无法直接做空的市场中，提供了一种替代方案。',
    '**可能获得权利金**：根据波动率等因素，构建此策略时有时能获得少量净权利金收入。',
  ],
  cons: [
    '**上行风险无限**：和直接做空股票一样，如果股价无限上涨，理论上的亏损也是无限的。',
    '**需要保证金**：由于包含了期权卖方头寸（Short Call），需要占用保证金。',
    '**交易成本**：需要执行两笔期权交易，可能会产生更高的佣金成本。',
  ],
  example: (
    <div>
      <p>假设F公司股票当前价格为$100。你非常看空它，但不想通过券商融券做空。于是你构建了一个合成空头头寸：</p>
      <ul>
        <li>卖出 1张 执行价为$100的看涨期权，收到权利金 $5。</li>
        <li>买入 1张 执行价为$100的看跌期权，付出权利金 $5。</li>
      </ul>
      <p>你的净权利金收入/支出为$0。你的头寸盈亏将完全跟随股价相对于$100的变化（方向相反）。</p>
      <p><strong>情景一：股价到期时下跌至$90</strong></p>
      <p>你的看涨期权（Short Call）变为废纸，而你的看跌期权（Long Put）价值 $100 - $90 = $10/股。你的总利润为 $10 * 100 = $1000。这和你以$100做空100股股票，然后在$90平仓的利润完全一样。</p>
      <p><strong>情景二：股价到期时上涨至$110</strong></p>
      <p>你的看跌期权（Long Put）变为废纸，而你的看涨期权（Short Call）亏损 $110 - $100 = $10/股。你的总亏损为 $10 * 100 = $1000。这也和你以$100做空100股股票，然后在$110平仓的亏损完全一样。</p>
    </div>
  ),
  formula: ['到期盈亏 ≈ (执行价 - 股票到期价) × 100'],
  legs: [
    { id: 'sc100', kind: 'option', position: 'short', qty: 1, multiplier: 100, entryPrice: 5, option: { type: 'call', strike: 100 } },
    { id: 'lp100', kind: 'option', position: 'long',  qty: 1, multiplier: 100, entryPrice: 5, option: { type: 'put',  strike: 100 } },
  ],
};

export default strategy;