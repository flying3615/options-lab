import type { Strategy } from '../../../lib/types';

const strategy: Strategy = {
  id: 'short-risk-reversal',
  name: '空头风险反转 (Short Risk Reversal)',
  referencePrice: 100,
  tags: ['方向：看空', '类空头', '风险：较大'],
  summary: '通过买入一份虚值看跌期权和卖出一份虚值看涨期权，来模拟做空股票的头寸，通常成本很低。',
  description: '空头风险反转（也称为“领子”策略的变种）是一种看空策略，它组合了买入一份虚值看跌期权（Long Put）和卖出一份虚值看涨期权（Short Call）。卖出看涨期权的收入用于补贴买入看跌期权的成本，常常可以实现零成本建仓。该策略在股价下跌时获利，在股价上涨时亏损，其盈亏曲线类似于直接做空股票。',
  concept: '这个策略可以理解为“用未来的上涨风险换取现在的下跌保护”。你卖掉了股票上涨的潜在收益权（卖出看涨期权），然后用这笔钱买了一份股票下跌的保险（买入看跌期权）。如果股价真的下跌，你的保险就生效了；如果股价上涨，你就需要承担相应的亏损，就像你真的做空了股票一样。',
  pros: [
    '**建仓成本低**：可以通过选择不同的执行价，轻松实现零成本甚至净收入建仓。',
    '**下行利润潜力大**：如果股价大幅下跌，盈利潜力巨大（理论上到股价归零为止）。',
    '**模拟空头**：提供了一种替代直接做空股票或期货的方式，资本效率更高。',
  ],
  cons: [
    '**上行风险无限**：与裸卖看涨期权一样，如果股价无限上涨，理论亏损也是无限的。',
    '**需要保证金**：由于包含了卖出期权（Short Call），该策略需要交易者存入保证金。',
    '**双重损失**：如果股价保持在两个执行价之间，你既无法从下跌中获利，又可能因为时间价值损耗而亏损（如果建仓时是净支出）。',
  ],
  example: (
    <div>
      <p>你强烈看空I公司股票（当前股价$100），并希望建立一个类似做空的头寸。你执行了一个空头风险反转策略：</p>
      <ul>
        <li>买入一张执行价为$95的看跌期权（Long Put），花费$2/股（共$200）。</li>
        <li>卖出一张执行价为$105的看涨期权（Short Call），收入$2/股（共$200）。</li>
      </ul>
      <p>你的净权利金支出为 $0，这是一个零成本的看空策略。</p>
      <p><strong>情景一：股价到期时暴跌至$85</strong></p>
      <p>你的$95看跌期权现在价值$10/股，盈利$1000。你卖出的$105看涨期权变为废纸。你的总利润为 <strong>$1000</strong>。</p>
      <p><strong>情景二：股价到期时上涨至$110</strong></p>
      <p>你的$95看跌期权变为废纸。但你卖出的$105看涨期权被行权，导致$5/股的亏损，总计亏损 <strong>$500</strong>。</p>
      <p><strong>盈亏平衡点</strong></p>
      <p>由于初始成本为零，盈亏平衡点就是股价等于两个执行价相对于中间价的对称点，即大约在$100。股价低于$100开始盈利，高于$100开始亏损。</p>
    </div>
  ),
  formula: [
    '下行盈利潜力 = (看跌执行价 - 股价) × 合约乘数',
    '上行亏损风险 = 无限',
    '盈亏平衡点 ≈ 建仓时的股价（假设净权利金为零）',
  ],
  legs: [
    { id: 'lp95',  kind: 'option', position: 'long', qty: 1, multiplier: 100, entryPrice: 2, option: { type: 'put',  strike: 95  } },
    { id: 'sc105', kind: 'option', position: 'short', qty: 1, multiplier: 100, entryPrice: 2, option: { type: 'call', strike: 105 } },
  ],
};

export default strategy;
